# Logger Library & Demo Applications

## Содержание
- 1. Описание
- 2. Особенности
- 3. Требования
- 4. Сборка
  - 4.1 Сборка проекта
  - 4.2 Сборка библиотеки
- 5. Запуск приложений
  - 5.1 Запуск программы, тестирующей FileLogger
  - 5.2 Запуск unit тестов, тестирующих FileLogger
  - 5.3 Запуск программ, тестирующих SocketLogger

## 1. Описание
Проект состоит из следующих компонентов:
- Библиотека liblogger для логирования
- Приложения для тестирования библиотеки:
  - file_logger_app - для тестирования класса FileLogger
  - logger_tests - unit тесты для класса FileLogger
  - socket_client_app и socket_server_app - для тестирования класса SocketLogger

Иерархия классов выглядит следующим образом:

![Диаграмма классов](images/class_diagram.png)

## 2. Особенности
- Поддержка 5 уровней логирования: DEBUG, INFO, WARNING, ERROR, FATAL
- Два типа логгеров:
  - **FileLogger**: запись в текстовый файл
  - **SocketLogger**: отправка логов через TCP-сокет
- Формат логов: `ВРЕМЯ [УРОВЕНЬ] Сообщение`
- Цветное форматирование для консоли (ANSI-коды)
- Потокобезопасная обработка сообщений
- Система сбора статистики для SocketLogger:
  - Количество сообщений по уровням
  - Длина сообщений (мин/макс/средняя)
  - Фильтрация по времени (за последний час)
- Ежедневная очистка файловых логов (скрипт)
- Юнит-тесты для FileLogger

## 3. Требования
- Компилятор с поддержкой C++17 (gcc 9+)
- CMake 3.12+
- Linux (тестировалось на Ubuntu)
- Библиотеки: pthread, rt

## 4. Сборка
### 4.1 Сборка проекта
```bash
git clone https://github.com/Alex-deg/SIMPLE_LOGGER.git
cd SIMPLE_LOGGER
mkdir build && cd build
cmake ..
make 
```
 ### 4.2 Сборка библиотеки
 Сборка динамической библиотеки
 ```bash
cd liblogger
mkdir build
cd build
cmake -DBUILD_SHARED_LIBS=ON ..
make
```
Статическая библиотека собирается по умолчанию вместе со сборкой всего проекта
и находится в build/lib/liblogger.a

## 5. Запуск приложений
### 5.1 Запуск программы, тестирующей FileLogger
```bash
cd build/bin
./file_logger_app <путь_к_журналу_с_логами> <уровень_логирования_по_умолчанию>
```
### 5.2 Запуск unit тестов, тестирующих FileLogger
```bash
cd build/bin
./logger_tests
```
### 5.3 Запуск программ, тестирующих SocketLogger
В одном терминале запускаем сервер:
```bash
cd build/bin
./socket_server_app <порт>
```
В другом терминале запускаем клиента, который отправляет логи в сокет:
```bash
cd build/bin
./socket_client_app <порт> <уровень_логирования_по_умолчанию>
